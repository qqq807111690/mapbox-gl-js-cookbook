(window.webpackJsonp=window.webpackJsonp||[]).push([[34,51],{57:function(t,e,a){},61:function(t,e,a){"use strict";var n=a(57);a.n(n).a},62:function(t,e,a){"use strict";a.r(e);a(68),a(69),a(67),a(31);var n=a(75),i=a.n(n),o=a(72),r=a.n(o),s=(a(76),a(73)),l=a(74),p=function(){function t(e){Object(s.a)(this,t),this._className="mapboxgl-ctrl",this._options=Object.assign({},{zoom:1,center:[0,0]},e),this._onClickHome=this._onClickHome.bind(this)}return Object(l.a)(t,[{key:"onAdd",value:function(t){return this._map=t,this._container=c.create("div","".concat(this._className," mapboxgl-ctrl-group")),this._render(),this._container}},{key:"onRemove",value:function(){c.remove(this._container),this._map=void 0}},{key:"_render",value:function(){var t=c.create("button","".concat(this._className,"-icon ").concat(this._className,"-home"),this._container);t.type="button",t.addEventListener("click",this._onClickHome)}},{key:"_onClickHome",value:function(){this._map.easeTo(this._options)}}]),t}(),c={create:function(t,e,a){var n=window.document.createElement(t);return void 0!==e&&(n.className=e),a&&a.appendChild(n),n},remove:function(t){t.parentNode&&t.parentNode.removeChild(t)}},d=(a(77),{name:"base-map",props:{height:{type:Number,default:520},mapOptions:{type:Object},mapClickable:{type:Boolean,default:!0},borderOptions:{type:Object}},data:function(){return{map:null,maploaded:!1,mapDefaultOptions:{container:i()(),style:"mapbox://styles/huanglii/ck1n985b20oan1cmhp4i0o9c9?optimize=true",center:[-74.5,40],zoom:6,minZoom:0,maxZoom:22,scrollZoom:!0,pitch:0,bearing:0,antialias:!1},borderDefaultOptions:{layout:{visibility:"none"},paint:{"line-color":"hsl(357, 67%, 60%)","line-opacity":["step",["zoom"],1,10,0],"line-width":["interpolate",["linear"],["zoom"],0,1,22,3]},beforeId:""}}},computed:{mapContainer:function(){return this.mapOptions.container||this.mapDefaultOptions.container}},mounted:function(){var t=Object.assign({},this.mapDefaultOptions,this.mapOptions);this.initMap(t),window.addEventListener("resize",this.resize)},methods:{initMap:function(t){r.a.accessToken="pk.eyJ1IjoiaHVhbmdsaWkiLCJhIjoiY2pzNHBtendwMDZ2ZDQzbnVmZXdtMDlvdiJ9.GSija86yNNR4ssBtFFpx0g",this.map=new r.a.Map(t),this.map.addControl(new r.a.NavigationControl,"top-left");var e=t.center,a=t.zoom;this.map.addControl(new p({center:e,zoom:a}),"bottom-left"),this.map.addControl(new r.a.FullscreenControl,"top-left"),this.map.on("load",this.handleMapLoaded)},handleMapLoaded:function(t){this.maploaded=!0,this.$emit("load",t.target),this.mapClickable&&this.map.on("click",this.handleMapClick)},handleMapClick:function(t){console.log(t.lngLat);var e=this.map.queryRenderedFeatures(t.point);if(e.length>0){var a=e[0],n=a.layer,i=a.properties;Object.keys(i).length>0&&(new r.a.Popup).setLngLat(t.lngLat).setHTML(this.createPropHtml(n.id,i)).addTo(this.map)}},createPropHtml:function(t,e){return'\n        <div class="title"><b>'.concat(t,'</b></div>\n        <div class="content">\n          ').concat(Object.keys(e).map(function(t){return"".concat("<p><b>".concat(t,": </b>").concat(e[t],"</p>"))}).join(""),"\n        </div>\n      ")},addBorderLayer:function(){var t=Object.assign({},this.borderDefaultOptions,this.borderOptions),e=t.layout,a=t.paint,n=t.beforeId;this.map.addSource("border",{type:"vector",url:"mapbox://huanglii.4nxu8jv0"}),this.map.addLayer({id:"border-2oej0r",source:"border","source-layer":"Border-2oej0r",type:"line",layout:e,paint:a},n||void 0)},resize:function(){this.map.resize()}}}),m=(a(61),a(0)),h=Object(m.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"map-wrapper"},[e("div",{style:{width:"100%",height:this.height+"px",borderRadius:"6px"},attrs:{id:this.mapContainer}},[this._t("custom")],2),this._v(" "),this.maploaded?this._t("default"):this._e()],2)},[],!1,null,null,null);e.default=h.exports},639:function(t,e,a){"use strict";a.r(e);var n={components:{baseMap:a(62).default},data:function(){return{mapOptions:{style:"mapbox://styles/huanglii/ck1ocwsbl1fja1cloy67tyefi?optimize=true",center:[-120,50],zoom:2},borderOptions:{layout:{visibility:"visible"},paint:{"line-color":"#6e6e6e"},beforeId:"admin-1-boundary-bg"}}},methods:{handleMapLoaded:function(t){!function(t){t.addSource("earthquakes",{type:"vector",url:"mapbox://huanglii.d41k5fmy"}),t.addLayer({id:"earthquakes-heat",type:"heatmap",source:"earthquakes","source-layer":"earthquakes-cs3906",maxzoom:9,paint:{"heatmap-weight":["interpolate",["linear"],["get","mag"],0,0,6,1],"heatmap-intensity":["interpolate",["linear"],["zoom"],0,1,9,3],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(33,102,172,0)",.2,"rgb(103,169,207)",.4,"rgb(209,229,240)",.6,"rgb(253,219,199)",.8,"rgb(239,138,98)",1,"rgb(178,24,43)"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,2,9,20],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,9,0]}})}(t)}}},i=a(0),o=Object(i.a)(n,function(){var t=this.$createElement;return(this._self._c||t)("base-map",{attrs:{"map-options":this.mapOptions,borderOptions:this.borderOptions},on:{load:this.handleMapLoaded}})},[],!1,null,null,null);e.default=o.exports}}]);